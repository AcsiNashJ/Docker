name: TestStack2
services:
    frontend:
        image: inductiveautomation/ignition:8.1.21
        hostname: frontend
        ports:
            - 9988:8088
        volumes:
            - fe-data:/usr/local/bin/ignition/data
        networks:
            - frontend
        environment:
            - IGNITION_EDITION=standard
            - GATEWAY_ADMIN_PASSWORD=password
            - ACCEPT_IGNITION_EULA=Y
        command:
            -n frontend-gateway
            -m 2048
    backend:
        image: inductiveautomation/ignition:8.1.21
        hostname: backend
        ports:
            - 9989:8088
        volumes:
            - be-data:/usr/local/bin/ignition/data
        networks:
            - frontend
            - backend
        environment:
            - IGNITION_EDITION=standard
            - GATEWAY_ADMIN_PASSWORD=password
            - ACCEPT_IGNITION_EULA=Y
        command:
            -n backend-gateway
            -m 2048
volumes:
    fe-data:
    be-data:
networks:
    frontend:
    backend:
